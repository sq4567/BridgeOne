---
title: "BridgeOne Touchpad 컴포넌트 명세"
description: "TouchpadWrapper/Area/ControlButtons 구조, 색상/플로우, Disabled 규칙, 코드 상수 스펙"
tags: ["component", "touchpad", "ui", "compose"]
version: "v0.6"
owner: "UX"
updated: "2025-09-21"
note: "본 문서에 존재하는 모든 상수값 및 설정값은 초기 값으로, 확정된 고정값이 아님"
---

# BridgeOne Component Touchpad 명세서

> **상세 아키텍처**: 전체 시스템 아키텍처는 [`technical-specification.md` §3]를 참조하세요.
> **용어 정의**: 용어 정의는 [`technical-specification.md` §6.2 Android 플랫폼 용어집]을 참조하세요.

> **핵심**: 터치패드 컴포넌트는 사용자의 터치 입력을 받아 상대적 마우스 이동(dx, dy)과 버튼 상태를 생성하며, 이는 8바이트 프레임으로 인코딩되어 동글로 전송됩니다. Essential 모드에서는 기본 HID 마우스 기능만 사용하며, Standard 모드에서는 멀티 커서, 매크로 등의 고급 기능을 0xFF 헤더와 JSON 구조의 커스텀 명령으로 처리하여 Vendor-specific Interface를 통해 PC Windows 서비스와 양방향 통신합니다.

## 개요

- BridgeOne 앱의 핵심 기능으로, PC의 마우스를 대체하는 고급 터치 인터페이스를 제공합니다.
- `TouchpadAreaWrapper`와 `ControlButtonContainer`를 포함하는 래퍼 컴포넌트로, 다양한 모드와 기능을 통해 사용자가 직관적이고 효율적으로 PC를 제어할 수 있도록 설계되었습니다.
- 본 문서에는 UX 수준 요약 및 파라미터만 작성하며, 실제 구현과 관련된 상세 알고리즘은 `docs/Android/technical-specification-app.md` §2.1에 작성합니다.

---

## 1. 내부 컴포넌트 구성

### 1.1 터치패드 래퍼 (TouchpadWrapper)

TouchpadWrapper 크기 규칙
- 기본 비율: 1(가로):2(세로)
- 최소 크기: 160dp × 320dp (1:2 비율 유지)
- 최대 크기: 화면 크기 이하로 제한 (부모 컨테이너와 화면 경계 내에서 조정)
- 반응형 크기: 부모 컨테이너 크기에 따라 자동 조정
- 비율 고정: 모든 크기에서 1:2 비율 강제 유지

크기 조정 규칙:
- 비율은 항상 1:2로 고정 (왜곡 방지)
- 내부 요소들은 터치패드 크기에 비례하여 자동 스케일링
- 제어 버튼 크기: 터치패드 너비의 8% × 16% (최소 24dp × 48dp, 터치패드 크기에 비례하여 자동 스케일링)
- 제어 버튼 컨테이너 높이: 터치패드 높이의 15% (최소 48dp, 터치패드 크기에 비례하여 자동 스케일링)

Wrapper 구성 요소:
- `TouchpadAreaWrapper`: 터치패드1 영역, 터치패드2 영역을 감싸는 컨테이너
- `ControlButtonContainer`: `TouchpadAreaWrapper` 상단에 오버레이되는 제어 버튼 컨테이너
- 내부 레이아웃: `TouchpadAreaWrapper` 위에 `ControlButtonContainer`가 겹쳐진 형태

시각적 경계 처리(마스킹):
- **Wrapper 경계**: 래퍼 밖으로 나가는 모든 **시각적 요소**는 보이지 않음
- **애니메이션 지원**: 버튼 숨김/표시 시 래퍼 경계를 벗어나면서 자연스럽게 보이지 않게 됨
- **클리핑**: 래퍼 영역을 벗어나는 UI 요소들 자동 마스킹

터치 추적 범위(기능적):
- **추적 연속성**: 터치 시작점 기준 영역 무관 추적 지원 (상세 규칙: §4.1.3 참조)
- **제스처 무결성**: 모든 제스처는 터치 종료까지 중단 없이 처리

### 1.2 터치패드 영역 래퍼 (TouchpadAreaWrapper)

`TouchpadWrapper` 내부의 터치 인터페이스 컨테이너:
- 크기: `TouchpadWrapper` 전체 크기 (1:2 비율 고정)
- 둥근 모서리: 터치패드 너비의 3% (최소 8dp, 최대 16dp)
- 모드별 테두리: 터치패드 너비의 0.8% (최소 2dp, 최대 4dp)
- 기능: 터치 이벤트 감지 및 처리, 드래그 앤 드롭, 스크롤 동작
- 위치: `TouchpadWrapper` 전체 영역 (`ControlButtonContainer` 아래 레이어)

#### 1.2.1 터치패드1 영역 (Touchpad1Area)

`TouchpadAreaWrapper` 내부의 첫 번째 터치 인터페이스:
- 크기: `TouchpadAreaWrapper` 전체 크기 (싱글 커서 모드) / 왼쪽 50% 영역 (멀티 커서 모드)
- 기능: 첫 번째 터치 포인트 감지 및 처리, 드래그 앤 드롭, 스크롤 동작
- 테두리: 현재 모드에 따른 색상 적용(멀티 커서 시 Selected 영역에만 표시)
- 위치: `TouchpadAreaWrapper` 전체 영역 (싱글 커서 모드) / 왼쪽 영역 (멀티 커서 모드)

#### 1.2.2 터치패드2 영역 (Touchpad2Area)

`TouchpadAreaWrapper` 내부의 두 번째 터치 인터페이스:
- 표시 조건: 멀티 커서 모드 활성화 시에만 나타남
- 크기: `TouchpadAreaWrapper` 오른쪽 50% 영역
- 기능: 두 번째 터치 포인트 감지 및 처리, 드래그 앤 드롭, 스크롤 동작
- 테두리: 현재 모드에 따른 색상 적용(멀티 커서 시 Selected 영역에만 표시)
- 위치: `TouchpadAreaWrapper` 오른쪽 영역

#### 1.2.3 멀티 커서 선택 상태 관리

- 초기 상태: `Touchpad1Area`가 Selected 상태, `Touchpad2Area`는 Unselected 상태
- 선택 상태 전환: 현재 Unselected 상태인 터치패드를 터치하면 선택 상태가 전환됨
  - `Touchpad1Area`가 Selected일 때 `Touchpad2Area` 터치 시:
    - `Touchpad1Area`: Selected → Unselected
    - `Touchpad2Area`: Unselected → Selected  
  - `Touchpad2Area`가 Selected일 때 `Touchpad1Area` 터치 시:
    - `Touchpad2Area`: Selected → Unselected
    - `Touchpad1Area`: Unselected → Selected
- 테두리 표시: Selected 상태인 터치패드에만 §2.2 규칙에 따른 테두리 표시
- 커서 제어: Selected 터치패드를 통해 해당 커서의 이동/클릭 제어

### 1.3 제어 버튼 컨테이너 (ControlButtonContainer)

`TouchpadWrapper` 내부의 상단 제어 버튼 영역:
- 위치: `TouchpadAreaWrapper` 상단에 오버레이되는 가로 띠
- 크기: 터치패드 너비 × 터치패드 높이의 15% (최소 48dp, 최대 72dp)
- 여백: 터치패드 너비의 3% (최소 8dp, 최대 16dp)
- 기능: 제어 버튼들을 담는 컨테이너 역할
- 위치: `TouchpadAreaWrapper` 상단에 겹쳐진 오버레이 영역

#### 1.3.1 터치패드 모드 제어 버튼

- 터치패드의 동작 모드를 변경하는 제어 버튼들로, 지정된 두 모드를 서로 전환하는 기능을 수행합니다.
- 버튼에는 터치패드의 현재 모드가 아니라, 터치 시 전환될 다음 모드 정보가 표시됩니다.
  ex) 현재 "좌클릭 모드" 상태라면 버튼은 "우클릭 모드"라고 표시됨
- 각 모드 제어 버튼의 모드는 조합이 가능합니다.
  ex) 우클릭 모드 + 자유 커서 이동 모드 + 일반 스크롤 모드 + 멀티 커서 모드

용어/상태 정의:
- 커서 이동 모드: 스크롤 모드가 아닌 커서 이동 모드가 주요 동작으로 Selected인 상태. 별도의 "이동 Off" 상태는 존재하지 않음.
- 스크롤 모드: 스크롤이 주요 동작으로 Selected인 상태.
  * 일반 스크롤: 정량적 스크롤 방식
  * 무한 스크롤: 관성 스크롤 방식
- 전환 규칙: 스크롤 모드 진입/종료에 따라 주요 동작 모드만 전환됨.

##### 1.3.1.1 클릭 모드 버튼 (ClickModeButton)
- 위치: 제어 버튼 컨테이너 내 좌측 첫 번째
- 텍스트: "좌클릭 모드" / "우클릭 모드"
- 아이콘: VectorDrawable 사용(`ic_l_click.xml` / `ic_rclick.xml`).
- 기능: 좌클릭 모드 ↔ 우클릭 모드 전환
- 기본 상태: 좌클릭 모드
- 숨김 처리: 스크롤 모드 Selected 상태에서 숨김

##### 1.3.1.2 커서 이동 모드 버튼 (MoveModeButton)
- 위치: 제어 버튼 컨테이너 내 좌측 두 번째
- 텍스트: "커서 직각 이동 모드" / "커서 자유 이동 모드" (버튼에는 다음 전환 모드 표시)
- 아이콘: VectorDrawable 사용(`ic_right_angle_move.xml` / `ic_free_move.xml`).
- 기능: 커서 이동 모드 내 동작 전환(스크롤 모드와 무관)
- 기본 상태: 자유 커서 이동
- 표시 조건: 커서 이동이 주요 동작 모드일 때만 표시
  - 세부 규칙: 직각 커서 이동 시 "직각 커서 이동" 세부 알고리즘을 따름(`docs/Android/technical-specification-app.md` §2.1.2 참조)

##### 1.3.1.3 스크롤 모드 버튼 (ScrollModeButton)

- 위치: 제어 버튼 컨테이너 내 좌측 세 번째
- 텍스트/아이콘(상태에 따른 다음 전환 표시):
  * 커서 이동 모드 상태: "일반 스크롤" / `ic_normal_scroll.xml` (탭 시 일반 스크롤 모드로 전환)
  * 일반 스크롤 상태: "무한 스크롤" / `ic_infinite_scroll.xml` (탭 시 무한 스크롤 모드로 전환)
  * 무한 스크롤 상태: "일반 스크롤" / `ic_normal_scroll.xml` (탭 시 일반 스크롤 모드로 전환)
- 기능: 커서 이동 모드 → 일반 스크롤 모드 진입, 스크롤 모드에서는 일반 ↔ 무한 전환
- 종료: 스크롤 모드에서 터치패드 영역 더블탭으로 스크롤 모드 종료
- 기본 상태: 커서 이동 모드
- 표시 조건: 항상 표시

##### 1.3.1.4 커서 모드 버튼 (CursorModeButton)

- 위치: 제어 버튼 컨테이너 내 좌측 네 번째
- 텍스트: "멀티 커서" / "싱글 커서"
- 아이콘: VectorDrawable 사용(`ic_multi_cursor.xml` / `ic_single_cursor.xml`).
- 기능: 멀티 커서 모드 ↔ 싱글 커서 모드 전환
- 기본 상태: 싱글 커서 모드

#### 1.3.2 터치패드 옵션 수치 제어 버튼

**개요**: 터치패드의 동작 옵션 수치를 조절하는 제어 버튼들입니다.

##### 1.3.2.1 DPI 조절 버튼 (DPIControlButton)

- 위치: 제어 버튼 컨테이너 내 우측 첫 번째
- 텍스트: "DPI" + 현재 레벨 (낮음/보통/높음)
- 아이콘 매핑: VectorDrawable 사용. 낮음=`ic_slow.xml`, 보통=`ic_normal.xml`, 높음=`ic_fast.xml`
- 기능: DPI 순환 (낮음 → 보통 → 높음 → 낮음)
- 숨김 처리: 스크롤 모드 Selected 상태에서 숨김

##### 1.3.2.2 스크롤 감도 버튼 (ScrollSensitivityButton)

- 위치: 스크롤 모드 시 제어 버튼 컨테이너 내 우측 첫 번째
- 텍스트: "스크롤" + 현재 레벨 (보통/빠름/느림)
- 아이콘 매핑: VectorDrawable 사용. 느림=`ic_slow.xml`, 보통=`ic_normal.xml`, 빠름=`ic_fast.xml`
- 기능: 스크롤 감도 순환 (보통 → 빠름 → 느림 → 보통)
- 표시 조건: 스크롤 모드 Selected 상태에서만 표시

### 1.4 제어 버튼 공통 구조

- 내부 구성: 배경 도형 + 텍스트 + 아이콘
- 비율: 1:2
- 크기: 터치패드 너비의 8% × 터치패드 너비의 16% (최소 24dp×48dp, 터치패드 크기에 비례하여 자동 스케일링)
- 배경 도형: 하단이 둥근 모서리 직사각형
- 테두리: 없음
- 텍스트: 버튼 높이의 30% 크기, 중앙 정렬
- 아이콘: 버튼 높이의 40% 크기, 텍스트 하단에 배치
- 상태 표시: 현재 모드에 따라 배경 도형의 색상, 텍스트, 아이콘이 변경됨 (색상 정보는 `2. 터치패드 색상 시스템` 참조)
- 터치 피드백: 햅틱 피드백, 클릭 애니메이션 (스케일 1.0 → 0.95 → 1.0)
- 터치 히트 영역: 상위 가이드(§4.2)를 따라 모든 버튼의 히트 영역은 최소 48×48dp를 보장한다. 시각적 폭이 48dp 미만일 경우 좌우 보이지 않는 패딩으로 히트 슬롭을 확보한다.

### 1.5 스크롤 가이드라인 (ScrollGuideline)
- 목적: 유저가 현재 어느 방향으로 스크롤하고 있는지 직관적으로 표시
- 위치: 테두리 영역을 제외한 터치패드 내부
- 색상: 일반 스크롤에서는 초록색, 무한 스크롤에서는 빨간색 (§2.4 참조)
- 표시 조건: 일반 스크롤 또는 무한 스크롤 상태에서 사용자가 드래그 시작 시
- 숨김 조건:
  - 일반/무한 공통: 사용자가 스크롤을 정지한 것으로 판정되는 시점부터 일정 시간 경과 후 숨김
  - 스크롤 모드 종료 더블탭 입력으로 커서 이동 모드로 전환되는 순간 즉시
- 동작 방식: 상세한 가이드라인 움직임 로직은 §4.2 참조

### 1.6 컴포넌트 간 상호작용
- `TouchpadWrapper` 내부 컴포넌트 간 관계:
  - 제어 버튼들: 독립적으로 작동하지만 모드 간 우선순위 규칙 적용
  - 버튼 상태 변경: 즉시 TouchpadArea 동작과 시각적 피드백에 반영
  - 모드 전환: 관련 컴포넌트들의 표시/숨김 상태 자동 관리
  - 애니메이션: 모든 전환 효과는 200ms 이하로 부드럽게 처리
  - 햅틱 피드백: 모든 버튼 상호작용에 진동 피드백 제공
- `TouchpadWrapper` 크기 조정 시 상호작용:
  - TouchpadWrapper 크기 변경 시 모든 내부 요소들이 비례적으로 스케일링
  - 제어 버튼 간격: 터치패드 너비의 2% (최소 4dp, 최대 8dp)
  - 버튼 컨테이너 내 여백: 터치패드 너비의 3% (최소 8dp, 최대 16dp)
  - 반응형 레이아웃: 모든 요소가 TouchpadWrapper 크기에 맞춰 자동 조정
  - ControlButtonContainer 오버레이: TouchpadArea 상단에 겹쳐진 형태로 고정

---

## 2. 터치패드 색상 시스템

### 2.1 색상 팔레트
- `#1E1E1E` (진한 회색)
  - Touchpad1Area, Touchpad2Area 배경색
  - 제어 버튼 텍스트/아이콘 색상(모든 버튼 공통)
- `#2196F3` (파란색)
  - 기본 상태 대표 색상(커서 이동 모드, 좌클릭, 싱글 커서 등 기본 상태)
  - 버튼 기본 배경색(별도 명시가 없는 모든 버튼의 기본 배경)
- `#F3D021` (노란색)
  - 우클릭 모드 대표 색상
- `#84E268` (초록색)
  - 일반 스크롤 모드 대표 색상
  - 일반 스크롤 모드 가이드라인 색상
- `#20D8AD` (청록색)
  - "느림" 레벨 대표 색상(DPI 낮음, 스크롤 감도 느림)
- `#818BFF` (연보라색)
  - "빠름/높음" 레벨 대표 색상(DPI 높음, 스크롤 감도 빠름)
- `#B552F6` (보라색)
  - 멀티 커서 모드 대표 색상
- `#FF8A00` (주황색)
  - 직각 커서 이동 모드 대표 색상
- `#F32121` (빨간색)
  - 무한 스크롤 모드 대표 색상
  - 무한 스크롤 모드 가이드라인 색상

### 2.2 테두리 색상 적용 규칙

적용 대상:
- 싱글 커서 모드: `Touchpad1Area` 테두리
- 멀티 커서 모드: `Touchpad1Area`, `Touchpad2Area` 테두리(Selected 터치패드에만 표시, Unselected 터치패드는 테두리 없음)
- 제어 버튼(ControlButton)은 `1.4 제어 버튼 공통 구조`에 따라 테두리 없음.

의존 규칙:
- 우선순위는 `3.3.1 조합 개요와 우선순위`를 따른다.
- 버튼 배경/텍스트/아이콘은 2.3의 버튼 규칙을 따르며, 본 규칙(테두리 색상)과는 독립적으로 적용된다.

#### 2.2.1 결정 기준

현재 Selected 모드 기준:
1) 무한 스크롤 Selected: 빨간색 단색
2) 일반 스크롤 Selected: 초록색 단색
3) 커서 이동 모드 상태: 클릭×커서 이동 모드 조합
   - 클릭 색상: 좌클릭=파란색, 우클릭=노란색
   - 이동 색상: 자유=파란색, 직각=주황색
   - 결정 규칙: §2.2.2 조합 규칙 참조
4) 멀티 커서 Selected:
   - 색상 산출에는 영향을 주지 않으나, 표시 대상은 Selected 터치패드로 제한(Unselected 터치패드는 테두리 표시 없음).
   - 싱글 커서는 1~3 규칙을 단일 영역에 적용.

#### 2.2.2 조합 규칙

커서 이동 모드 상태에서 클릭과 이동 모드의 조합에 따른 테두리 색상 결정:

- **파랑 중복 해소 규칙**:
  - 클릭=파랑 AND 이동=파랑 → 파란색 단색
  - 둘 중 하나만 파랑 → 파랑이 아닌 쪽 단색 사용(노란색 또는 주황색)
  - 둘 다 파랑 아님(노랑/주황) → 좌=노란색, 우=주황색 그라데이션(좌=클릭, 우=이동)

예시:
- 우클릭 + 커서 직각 이동 모드(커서 이동 모드): 좌=노란색 → 우=주황색 그라데이션
- 좌클릭 + 커서 직각 이동 모드(커서 이동 모드): 주황색 단색
- 우클릭 + 커서 자유 이동 모드(커서 이동 모드): 노란색 단색
- 좌클릭 + 커서 자유 이동 모드(커서 이동 모드): 파란색 단색

### 2.3 터치패드 제어 버튼 배경 색상 규칙

#### 2.3.1 모드 제어 버튼(Click/Move/Scroll/Cursor)

- 공통 원칙: 모든 모드 제어 버튼은 "현재 상태"가 아니라 "다음 전환 모드"의 대표 색상을 배경 도형색으로 사용합니다.
- 상태 메모리: 각 모드는 마지막으로 사용한 하위 모드/상태를 내부적으로 저장합니다. UI에서 해당 버튼이 숨겨져 있거나 해당 모드가 비활성 상태인 동안에도 이 값은 보존되며, 버튼이 다시 보일 때 표시 색상은 이 값(다음 전환 대상)에 따라 결정됩니다.

- 클릭 모드 버튼
  - 현재 좌클릭 상태(다음=우클릭): 노란색
  - 현재 우클릭 상태(다음=좌클릭): 파란색
  - 스크롤 모드 활성 상태에서 버튼 자체는 UI에서 숨김(배경색 비적용)
- 커서 이동 모드 전환 버튼(자유 이동/직각 이동)
  - 현재 자유 커서 이동 상태(다음=직각 커서 이동): 주황색
  - 현재 직각 커서 이동 상태(다음=자유 커서 이동): 파란색
- 스크롤 모드 버튼
  - 스크롤 비활성 상태: 바로 직전에 사용한 스크롤 모드가 다음 전환 대상이 됩니다.
    - 직전=일반 스크롤: 초록색
    - 직전=무한 스크롤: 빨간색
  - 일반 스크롤 상태(다음=무한 스크롤): 빨간색
  - 무한 스크롤 상태(다음=일반 스크롤): 초록색
- 커서 모드 버튼
  - 현재 싱글 커서 상태(다음=멀티 커서): 보라색
  - 현재 멀티 커서 상태(다음=싱글 커서): 파란색

#### 2.3.2 옵션 수치 제어 버튼(DPI/스크롤 감도)

- 공통 원칙: 옵션 수치 버튼도 버튼 배경 도형색으로 현재 선택값의 대표 색상을 사용합니다.
- DPI 조절 버튼 (스크롤 비활성 상태에서만 표시)
  - 낮음: 청록색
  - 보통: 파란색
  - 높음: 연보라색
- 스크롤 감도 버튼 (스크롤 모드 활성 상태에서만 표시)
  - 느림: 청록색
  - 보통: 파란색
  - 빠름: 연보라색

### 2.4 스크롤 가이드라인 색상
- 일반 스크롤: 초록색
- 무한 스크롤: 빨간색

### 2.5 가시성 및 상태 요약(색상 적용 범위)
- 스크롤 모드 활성 상태:
  - 스크롤 모드 버튼, 스크롤 감도 버튼 표시.
  - 클릭 모드/DPI 버튼 숨김(해당 버튼 색상 미적용, 내부 상태만 보존).
- 커서 이동 모드 활성 상태:
  - 클릭 모드/DPI 버튼 표시(보존 상태 복원).
  - 스크롤 모드/감도 버튼 숨김.
- 멀티 커서:
  - Selected 터치패드에만 `2.2 테두리 색상 적용 규칙`에 따른 테두리 표시(Unselected 터치패드는 테두리 없음).
- 멀티 커서 상태 자체는 버튼 배경 도형색(보라색)으로도 표시.

---

## 3. 상세 유저 플로우

### 3.1 초기 진입 플로우

사용자 액션: BridgeOne 앱에서 터치패드가 포함된 페이지 진입
시스템 응답:
1. TouchpadWrapper 컴포넌트 로드 (1:2 비율, 기본 크기 적용)
2. TouchpadArea와 ControlButtonContainer 초기화
3. 기본 모드 설정 (좌클릭 모드, 커서 이동 모드, 싱글 커서)
4. ControlButtonContainer 표시 (TouchpadWrapper 상단 15% 영역)
5. 터치패드 테두리 `#2196F3` 색상으로 표시 (스크롤 비활성 및 기본 상태)
6. 기본 제어 버튼들 표시:
  - 클릭 모드 버튼: "우클릭 모드" 표시 (현재 좌클릭 모드, 다음 전환 모드 표시)
  - 스크롤 모드 버튼: "일반 스크롤" 표시(직전 사용 모드가 무한이면 "무한 스크롤" 표시)
  - 커서 모드 버튼: "멀티 커서" 표시 (현재 싱글 커서, 다음 전환 모드 표시)
  - DPI 조절 버튼: "DPI 보통" 표시 (현재 적용된 DPI 상태 표시)

### 3.2 단일 터치패드 모드별 유저 플로우

#### 3.2.1 클릭 모드 플로우 (ClickModeButton)

- 표시 조건: 커서 이동이 주요 동작 모드일 때
- 기본 상태: 좌클릭
- 숨김: 스크롤이 주요 동작 모드일 때

##### 3.2.1.1 좌클릭 실행

- 전제조건: 커서 이동이 주요 동작 모드이고, 좌클릭이 설정된 상태
- 사용자 액션: 터치패드 영역을 짧게 탭
- 시스템 응답:
  1) 짧은 터치 감지(빠른 터치 시간과 작은 이동량)
  2) 마우스 좌클릭 명령 전송
- 완료 상태: 터치 종료 시(영역 내외 무관) 터치패드 대기 상태로 복귀
- 입력 보정:
  - 이동 시작 판정 및 초기 이동량 반영은 데드존 보상 로직을 따름(`docs/Android/technical-specification-app.md` §2.1.3 참조).
  - 터치 시작점이 터치패드 내부라면 영역 밖 이동도 포함하여 처리.

##### 3.2.1.2 우클릭 실행

- 전제조건: 커서 이동이 주요 동작 모드이고, 우클릭이 설정된 상태
- 사용자 액션: 터치패드 영역을 짧게 탭
- 시스템 응답:
  1) 현재 클릭 모드 확인(§2.2 규칙에 따른 테두리 색상 표시)
  2) 마우스 우클릭 명령 전송
- 완료 상태: 우클릭 모드 유지
- 입력 보정:
  - 이동 시작 판정 및 초기 이동량 반영은 데드존 보상 로직을 따름(`docs/Android/technical-specification-app.md` §2.1.3 참조).
  - 터치 시작점이 터치패드 내부라면 영역 밖 이동도 포함하여 처리.

##### 3.2.1.3 좌↔우 전환

- 전제조건: 커서 이동이 주요 동작 모드일 때
- 사용자 액션: 클릭 모드 버튼 탭(제어 버튼 컨테이너 좌측 첫 번째)
- 시스템 응답:
  1) 버튼 축소/복원 애니메이션과 햅틱 피드백
  2) 아이콘/텍스트 전환: `ic_lclick.xml` ↔ `ic_rclick.xml`
  3) 테두리/버튼 배경색 전환(§2.2 및 §2.3 규칙에 따라)
- 완료 상태: 새로운 클릭 모드 즉시 적용

#### 3.2.2 커서 이동 모드 플로우 (MoveModeButton)

- 표시 조건: 커서 이동이 주요 동작 모드일 때
- 기본 상태: 커서 자유 이동 모드
- 전환 대상: 직각 커서 이동(축 고정 이동)
- 입력 보정:
  - 이동 시작 판정 및 초기 이동량 반영은 데드존 보상 로직을 따름(`docs/Android/technical-specification-app.md` §2.1.3 참조).
  - 터치 시작점이 터치패드 내부라면 영역 밖 이동도 포함하여 처리.

##### 3.2.2.1 커서 자유 이동 모드

- 전제조건: 커서 이동이 주요 동작 모드이고, 자유 이동이 설정된 상태
- 사용자 액션: 터치패드 영역에서 드래그
- 시스템 응답:
  1) 드래그 벡터 계산
  2) DPI 설정을 반영한 커서 이동 전송
  3) 실시간 이동 피드백 제공
- 완료 상태: 터치 종료 시(영역 내외 무관) 터치패드 대기 상태로 복귀
- 입력 보정: 누적 이동이 임계값을 초과하는 순간까지 이동 신호를 지연하고, 초과 시 누적량 전량을 1회 이동으로 반영하여 지연 없는 이동 시작 보장. 이후에는 실시간 이동 추적. 영역 밖 이동량도 누적에 포함.

##### 3.2.2.2 커서 직각 이동 모드

- 전제조건: 커서 이동이 주요 동작 모드이고, 직각 이동이 설정된 상태
- 사용자 액션: 터치패드 영역에서 드래그
- 시스템 응답:
  1) 스냅 축 결정 및 축 전환 조건 적용
  2) 선택 축 이외의 성분 무시(X 축 고정: 가로만, Y 축 고정: 세로만)
- 완료 상태: 터치 종료 시 축 고정 해제, 직각 이동 모드 유지
- 상세한 직각 이동 알고리즘은 `docs/Android/technical-specification-app.md` §2.1.2(직각 이동 알고리즘 명세) 참조

#### 3.2.3 스크롤 모드 플로우 (ScrollModeButton)

- 표시 조건: 항상 표시(상태에 따라 전환 대상 안내)
- 전환 대상: 커서 이동 모드 ↔ 스크롤 모드(일반/무한)

##### 3.2.3.1 진입/전환(버튼)

- 사용자 액션: 스크롤 모드 버튼 탭(제어 버튼 컨테이너 좌측 세 번째)
- 시스템 응답:
  1) 버튼 클릭 애니메이션, 햅틱
  2) 커서 이동 모드 → 일반 스크롤 모드로 전환(단, 직전 사용 모드가 무한이면 무한 스크롤로 진입)
  3) 테두리 색 전환(§2.2 규칙에 따라)
  4) UI 전환: 클릭 모드/DPI 숨김, 스크롤 감도 버튼 표시

##### 3.2.3.2 일반 ↔ 무한 전환(버튼)

- 사용자 액션: 스크롤 모드 버튼 탭
- 시스템 응답:
  1) 일반 스크롤 ↔ 무한 스크롤 전환
  2) 버튼/테두리/배경 색 전환(§2.2 및 §2.3 규칙에 따라)
  3) 스크롤 감도 버튼 유지

##### 3.2.3.3 스크롤 모드 종료(제스처)

- 사용자 액션: 터치패드 영역 더블탭(짧은 간격 내 2회)
- 시스템 응답:
  1) 스크롤 모드(일반/무한) → 커서 이동 모드로 전환
  2) 테두리: 스크롤 비활성 조합색으로 즉시 전환(2.2 규칙)
  3) UI: 클릭 모드/DPI 복귀, 스크롤 감도 숨김
  4) 가이드라인: 즉시 숨김

##### 3.2.3.4 일반 스크롤 실행

- 전제조건: 일반 스크롤 모드가 활성 상태
- 사용자 액션: 터치패드 영역에서 드래그
- 시스템 응답:
  1) 시작 좌표 기록, 초록색 가이드라인 표시, 카운터 초기화
  2) 방향 감지: 세로(Y축 우세)/가로(X축 우세)
  3) 설정된 거리당 1단위 스크롤, 햅틱 피드백 동기화
  4) 단위×감도를 반영하여 USB로 직접 연결된 동글에 스크롤 신호 전송
- 완료 상태: 정지 판정 시점부터 일정 시간 경과 후 가이드라인 숨김, 스크롤 모드 유지
- 가이드라인 상세 동작은 `docs/Android/technical-specification-app.md` §2.1.4(스크롤 가이드라인 알고리즘 명세) 참조

##### 3.2.3.5 무한 스크롤 실행

- 전제조건: 무한 스크롤 모드가 활성 상태
- 사용자 액션: 터치패드 영역에서 드래그
- 시스템 응답:
  1) 시작 좌표 기록, 빨간색 가이드라인 표시, 관성 시스템 활성
  2) 속도·방향 벡터 추적, 연속 스크롤(단위 제한 없음)
  3) 드래그 종료 후 지수 감속, 임계속도까지 지속
  4) 진행 중 터치 시 즉시 정지
- 완료 상태: 임계속도 이하로 정지 판정된 시점부터 일정 시간 경과 후 가이드라인 숨김, 스크롤 모드 유지
- 무한 스크롤 가이드라인 상세 동작은 `docs/Android/technical-specification-app.md` §2.1.4(스크롤 가이드라인 알고리즘 명세) 참조

#### 3.2.4 커서 모드 플로우 (CursorModeButton)

**커서 모드 제어 버튼**:
- 버튼 전환(싱글 ↔ 멀티)
- 사용자 액션: 커서 모드 버튼 터치
- 위치: 제어 버튼 컨테이너 좌측 네 번째

**유저 플로우 요약**:
1. 버튼 터치 감지: 클릭 애니메이션 및 햅틱
2. **멀티 커서 활성화**: 단일 → 분할(`Touchpad1Area`/`Touchpad2Area`), 버튼 텍스트/아이콘/배경 갱신(배경 도형색=`#B552F6`), 300ms 분할 애니메이션(ease-out)
3. **싱글 커서 복원**: 분할 → 단일 복귀, 버튼 텍스트/아이콘/배경 갱신(배경 도형색=`#2196F3`), 300ms 통합 애니메이션(ease-in)
4. 적용: 애니메이션이 시작되는 순간부터 작업을 시작해 애니메이션 종료 시점에는 새로운 커서 모드 반영

> **양방향 전환 기술 명세**: 멀티 커서 활성화와 싱글 커서 복원의 통신 프로토콜, 상태 동기화, 메모리 관리 등은 `docs/Android/technical-specification-app.md` §2.1.5(멀티 커서 알고리즘 명세) 참조

##### 3.2.4.1 터치패드 영역 분할 및 전환

**영역 분할 시각적 표현:**
1. 전환 감지: `pad1`(왼쪽 영역) 터치 시 커서 A 활성, `pad2`(오른쪽 영역) 터치 시 커서 B 활성
2. 상태 표시: 활성 영역은 2.2 규칙에 따른 테두리 표시, 비활성 영역은 테두리 없음
3. 전환 효과: 영역 전환 시 파란색 펄스 애니메이션(0.1초, 80% 투명도)

**터치패드 좌표 표시:**
- 활성/비활성 영역 모두에서 좌표 표시 유지
- 전환 시에도 연속적인 좌표 추적 보장

##### 3.2.4.2 멀티 커서 시각적 피드백

**터치패드 영역별 시각적 구분:**
1. 활성 영역: 선택된 테두리 색상 표시 (`#B552F6` 보라색)
2. 비활성 영역: 테두리 없음, 반투명 처리
3. 전환 애니메이션: 부드러운 투명도 변화와 테두리 색상 전환

**가상 커서 연동 표시:**
- PC 화면에 표시되는 가상 커서와 터치패드 영역 상태 동기화
- 비활성 터치패드 영역의 커서 위치 정보 시각적 힌트 제공

##### 3.2.4.3 멀티 커서 사용 시나리오

**일반적인 워크플로우:**
1. 초기 설정: 왼쪽 영역=코드 편집기, 오른쪽 영역=웹 브라우저
2. 작업 흐름: 왼쪽 터치패드로 코드 작성 → 오른쪽 터치패드로 문서 참조 → 왼쪽으로 드래그 → 오른쪽으로 드롭
3. 사용자 경험: 매끄러운 멀티태스킹으로 작업 효율성 대폭 향상

> **기술적 세부사항**: 멀티 커서 모드 전환 및 싱글 커서 복원의 통신 프로토콜, 성능 요구사항, 오류 처리 등의 구현 명세는 `docs/Android/technical-specification-app.md` §2.1.5(멀티 커서 알고리즘 명세) 참조

#### 3.2.4.1 특수 모드 플로우: Essential/Standard 모드

> **기술 구현 세부사항**: Essential/Standard 모드의 기능 제한, 프로토콜 제한사항, 상태 전이 로직 등의 기술적 세부사항은 별도 기술 문서 `docs/Android/technical-specification-app.md` §2.4(Essential/Standard 모드 관리)를 참조하세요.

**모드별 동작 개요:**
- **Essential 모드**: USB 연결은 완료되었으나 Windows 서버 연결이 없는 상태. 기본 HID 마우스 기능만 사용 가능.
- **Standard 모드**: Windows 서버와의 연결이 완료된 상태. 멀티 커서, 매크로 실행 등 모든 고급 기능 사용 가능.

**사용자 경험 차이점:**
- Essential 모드에서는 제어 버튼 컨테이너가 숨겨지고 터치패드만 표시됩니다.
- 모드 전환은 시스템이 자동으로 처리하며, 사용자에게 적절한 상태 안내를 제공합니다.

#### 3.2.5 DPI 옵션 플로우 (DPIControlButton)

- 표시 조건: 커서 이동이 주요 동작 모드일 때
- 위치: 제어 버튼 컨테이너 우측 세 번째

##### 3.2.5.1 DPI 변경
- 사용자 액션: DPI 버튼 탭
- 시스템 응답:
  1) 버튼 클릭 애니메이션, 햅틱
  2) 순환: 보통 → 높음 → 낮음 → 보통(아이콘/배경: Normal → Fast → Slow → Normal)
  3) 적용: 새로운 DPI 즉시 반영, 다음 이동부터 적용

#### 3.2.6 스크롤 감도 옵션 플로우 (ScrollSensitivityButton)
- 표시 조건: 스크롤 모드가 활성 상태일 때
- 위치: 제어 버튼 컨테이너 우측 첫 번째

##### 3.2.6.1 감도 변경
- 사용자 액션: 스크롤 감도 버튼 탭
- 시스템 응답:
  1) 버튼 클릭 애니메이션, 햅틱
  2) 순환: 보통 → 빠름 → 느림 → 보통(아이콘/배경: Normal → Fast → Slow → Normal)
  3) 적용: 새로운 감도 즉시 반영, 다음 스크롤부터 적용

### 3.3 다중 모드 유저 플로우

#### 3.3.1 조합 개요와 우선순위
적용 대상:
- 조합 모드: 클릭(좌/우), 이동(자유/직각), 스크롤(비활성/일반/무한), 커서(싱글/멀티)
- 조합 옵션: DPI(낮음/보통/높음), 스크롤 감도(느림/보통/빠름)

표시 표준(1.4 반영):
- 모든 제어 버튼은 배경 도형+텍스트+아이콘 구성, 테두리 없음.
- 버튼 텍스트/아이콘/배경 도형색은 각 버튼 규칙(2.3)을 따름.
- 테두리 색상은 '현재 활성 모드' 기준으로 아래 우선순위를 따름(버튼 색상과 독립).

우선순위(시각/동작 적용 순):
1) 무한 스크롤 > 2) 일반 스크롤 > 3) 우클릭 > 4) 기본(좌클릭/커서 이동)

테두리 렌더링 요약:
- 멀티 커서: Selected 터치패드에만 적용(2.2 규칙). Unselected는 테두리 없음
- 무한 스크롤: 빨간색 단색
- 일반 스크롤: 초록색 단색
- 스크롤 비활성: 파랑 중복 해소 규칙 적용(2.2 참조)
  • 클릭=파랑 AND 이동=파랑 → 파란색 단색
  • 둘 중 하나만 파랑 → 파랑이 아닌 쪽 단색(노란색 또는 주황색)
  • 둘 다 파랑 아님(노랑/주황) → 좌=노란색, 우=주황색 그라데이션
- 기본: 파란색

버튼 표시/숨김:
- 스크롤 모드 활성 상태: 스크롤 모드/스크롤 감도 버튼 표시. 클릭 모드/DPI 버튼 숨김(상태 보존).
- 커서 이동 모드 활성 상태: 클릭 모드/DPI 버튼 표시. 스크롤 모드/감도 버튼 숨김.

#### 3.3.2 조합 전환 및 옵션 적용 규칙

1. 스크롤 모드 토글
   - 커서 이동 → 스크롤 전환 시: 클릭 모드/DPI는 내부 상태만 보존하고 UI에서 숨김. 스크롤 모드 버튼과 스크롤 감도 버튼 표시.
   - 스크롤 → 커서 이동 전환 시: 진행 중인 무한 스크롤 즉시 중단, 스크롤 가이드라인 숨김. 클릭 모드/DPI 표시 및 이전 상태 복원.

2. 무한 스크롤 토글
   - 유효 범위: 스크롤 모드일 때만 동작. 이동 모드에서는 비활성 처리(토글 무시 + 비활성 시각 상태).
   - ON: 테두리 `#F32121`, 관성 스크롤 알고리즘 활성.
   - 해제: 테두리 `#84E268`, 일반 스크롤로 즉시 복귀.

3. 클릭 모드 토글(좌↔우)
   - 커서 이동 모드에서만 동작/표시. 스크롤 모드에서는 내부 상태만 유지하고 UI/동작에는 영향 없음.
   - 우클릭 Selected 시: 커서 이동 모드일 때 테두리 `#F3D021`.

4. 커서 모드 토글(싱글↔멀티)
   - 모든 모드에서 독립 동작. 영역 분할/통합 수행.
   - 테두리 색상에는 영향 없음(2.2 규칙 그대로 적용). 분할 레이아웃과 버튼 색상만 변경.
    - 전환 시 동글 펌웨어에 멀티 커서 전환 커맨드 전송(3.2.4 참조).

5. 옵션 적용(DPI/스크롤 감도)
   - DPI: 모드가 아닌 옵션. 커서 이동 모드에서만 UI 표시 및 적용. 스크롤 모드에선 숨김(값 보존), 테두리/모드에는 영향 없음.
   - 스크롤 감도: 모드가 아닌 옵션. 스크롤 모드에서만 UI 표시 및 적용. 무한/일반 모두 실시간 반영, 테두리/모드에는 영향 없음.

6. 테두리 렌더링 규칙
   - 멀티 커서: 색상 산출에는 영향 없으나, 테두리는 활성 터치패드에만 표시.
   - 무한 스크롤 활성: 빨간색 단색.
   - 스크롤(일반) 활성: 초록색 단색.
   - 스크롤 비활성 상태: §2.2.2 조합 규칙의 파랑 중복 해소 규칙 적용

#### 3.3.3 대표 조합 플로우
A) 우클릭 + 이동 + 싱글 커서
전제: 커서 이동 모드, 싱글 커서
1. 클릭 모드 버튼 탭 → 우클릭 Selected
2. 테두리: 노란색, 클릭 동작은 우클릭으로 동작
3. DPI 옵션 버튼 표시/동작 유효

B) 좌클릭 + 스크롤(일반) + 싱글 커서
전제: 클릭 모드 내부 상태는 좌클릭, 일반 스크롤 모드가 활성 상태
1. 스크롤/이동 버튼 탭 → 스크롤 모드 활성(테두리 초록색)
2. 스크롤 모드 버튼과 스크롤 감도 버튼 표시, 클릭 모드/DPI 숨김(상태 보존)
3. 드래그 시 20px 단위 스크롤 + 가이드라인 표시(3.2.3의 일반 스크롤 참조)

C) 우클릭 + 스크롤(무한) + 멀티 커서
전제: 우클릭이 내부 상태로 설정되어 있고, 멀티 커서 활성 상태
1. 일반 스크롤 모드 → 무한 스크롤 버튼 탭 → 무한 스크롤 모드로 전환
2. 테두리: Selected 터치패드에만 무한 스크롤 빨간색 단색 적용, Unselected는 테두리 없음. 관성 스크롤 동작(3.2.3의 무한 스크롤 참조)
3. 멀티 커서로 Touchpad1/2 분할, 전환 시 커서 A/B 활성 신호(3.2.4.1 참조)

D) 스크롤 중 이동으로 복귀(무한/일반 공통)
1. 스크롤 모드에서 스크롤/이동 버튼 탭 → 커서 이동 모드 전환
2. 진행 중 스크롤 즉시 중단(무한 스크롤이면 관성 중단)
3. 테두리: 우선순위 규칙에 따라 결정. 스크롤 비활성 상태가 되면 클릭 모드 색상과 커서 이동 모드 색상을 조합하여 단색/그라데이션 적용(2.2 참조)
4. 클릭 모드/DPI 표시 복구, 스크롤 모드/감도 버튼 숨김

E) 멀티 커서 + 스크롤(일반)
전제: 멀티 커서 활성 상태, 일반 스크롤 모드가 활성 상태
1. 스크롤/이동 버튼 탭 → 스크롤 모드 활성
2. 테두리: Selected 터치패드에만 스크롤 초록색 단색 적용, Unselected는 테두리 없음
3. 스크롤 모드, 스크롤 감도 버튼 표시. 클릭 모드/DPI 숨김.

F) 멀티 커서 + 우클릭 + 이동
전제: 커서 이동 모드, 멀티 커서 ON, 우클릭 Selected
1. 커서 모드 버튼 탭 → 멀티 커서 ON, 클릭 모드 버튼 탭 → 우클릭 ON
2. 테두리: Selected 터치패드에만 스크롤 비활성 기준 색상 적용(2.2의 파랑 중복 해소 규칙)
   - 자유 이동이면: 노란색 단색(파랑 무시)
   - 직각 이동이면: 좌=노란색 → 우=주황색 그라데이션
3. DPI 옵션 버튼 표시/동작 유효

#### 3.3.4 예외 및 충돌 처리
- 커서 이동 모드에서 무한 스크롤 버튼 입력: 비활성 처리(동작 없음), 버튼 시각상 비활성 상태 유지.
 - 무한 스크롤 중 커서 모드 전환: 허용. 관성 스크롤 유지, Selected 패드 전환 시 즉시 적용. 테두리는 Selected 터치패드에만 스크롤 규칙(2.2)을 적용하고 Unselected는 테두리 없음.
- 스크롤 모드에서 클릭 모드 토글: 내부 상태만 변경(스크롤 동작/시각에는 영향 없음).
- 현행 조합에선 세 모드 이상 고려 불필요: 무한/일반 스크롤, 클릭×이동 조합 규칙으로 충분. 스크롤/클릭 간 색상 충돌 없음.

### 3.4 사용성 플로우

#### 3.4.1 햅틱 피드백 다양화(상위 가이드 §5.4 준수)
목적: 촉각을 통한 사용자 경험 개선. OS 사전 정의(Predefined) 효과 우선 사용.

카테고리 및 매핑(상위 가이드 §5.4.2):
- Light: 일반 버튼 터치, 경미한 상태 변화
- Medium: 모드 전환, 설정 확정, 인디케이터 점프
- Strong: 페이지 전환, 중요 실행, 연결 성공
- Error: 입력 무효, 연결 실패, 경고

적용 규칙:
- 버튼 터치: Light 1회
- 모드 전환(Click/Move/Scroll/Cursor): Medium 1회
- 스크롤 단위 임계 통과 시: Light 간헐 트리거(최대 10Hz 권장)
- 오류/무효 입력: Error 1회
- 페이지 전환(해당 페이지에서): Strong 1회

비고:
- 실제 진폭·지속 시간은 OS 사전 정의 효과에 따르며, 기기별 체감 차이를 인정한다(상위 가이드 §5.4.2 참고).

### 3.5 입력 차단 플로우

상위 가이드라인 `docs/design-guide-app.md` §10.4(컴포넌트 비활성화 플로우)를 준수한다. 본 절은 Touchpad 컴포넌트에 특화된 입력 차단 상황에서의 유저 플로우를 정의한다.

**목적**: 장기 작업 실행 등으로 일시적으로 입력을 차단할 필요가 있을 때, Touchpad 관련 입력과 컨트롤의 오동작을 방지하고 사용자에게 명확한 상태를 전달한다.
**참조**: 용어 정의는 [`technical-specification.md` §6.2 Android 플랫폼 용어집]을 참조하세요.

#### 3.5.1 입력 차단 진입 플로우

##### 3.5.1.1 국소 비활성화 진입

- 사용자 액션: (없음 - 시스템 자동 트리거)
- 트리거 조건: 특정 컴포넌트 비활성화 요청 수신
  - 예: 터치패드 전체, 터치패드 제스처 영역만, 제어 버튼 영역만, 특정 버튼만 각각 독립적 비활성화 가능
- 시스템 응답:
  1) 대상 컴포넌트 즉시 비활성화 처리
  2) 시각적 변화: 컴포넌트 자체적으로 회색 톤다운(`#C2C2C2`, alpha 0.6) 적용
  3) 리플/프레스 애니메이션 중단
  4) 입력 차단 설정(`enabled=false` 또는 포인터 이벤트 소비)
- 완료 상태: 대상 컴포넌트만 비활성화, 나머지는 정상 동작 유지

##### 3.5.1.2 페이지 일괄 비활성화 진입

- 사용자 액션: (없음 - 시스템 자동 트리거)
- 트리거 조건: 페이지 내 모든 터치 가능 컴포넌트 일괄 비활성화 요청 수신
- 시스템 응답:
  1) 모든 터치패드 관련 컴포넌트 비활성화
  2) 전체적인 시각적 변화 적용
  3) 강제 해제 규칙 활성화 (상위 가이드라인 준수)
- 완료 상태: 전체 터치패드 인터페이스 비활성화

#### 3.5.2 입력 차단 상태별 플로우

##### 3.5.2.1 TouchpadWrapper 전체 비활성화 상태

- 전제조건: TouchpadWrapper 전체에 대한 비활성화 요청
- 시각적 상태:
  1) 패드 테두리 완전 비표시
  2) 스크롤 가이드라인 표시 중단 (실행/관성 표시 포함)
  3) 모든 제어 버튼에 회색 톤다운 적용
  4) ColorMatrix(흑백) 미사용, 토큰 기반 desaturate + alpha 적용
- 동작 특성: 패드 제스처·스크롤·모든 제어 버튼 입력 완전 차단

##### 3.5.2.2 TouchpadAreaWrapper만 비활성화 상태

- 전제조건: 터치패드 제스처 영역만 비활성화 요청
- 시각적 상태:
  1) 패드 테두리 비표시
  2) 스크롤 가이드라인 비표시
  3) 제어 버튼은 정상 시각 상태 유지
- 동작 특성: 패드 제스처(클릭/드래그/스크롤)만 차단, 제어 버튼은 Enabled 유지

##### 3.5.2.3 ControlButtonContainer만 비활성화 상태

- 전제조건: 제어 버튼 영역만 비활성화 요청
- 시각적 상태:
  1) 터치패드 테두리 정상 표시
  2) 모든 제어 버튼에 회색 톤다운 적용
  3) 버튼 배경 도형/아이콘/텍스트 desaturate + alpha 적용
- 동작 특성: 모드/옵션 버튼만 차단, 패드 제스처는 Enabled 유지

##### 3.5.2.4 특정 버튼만 비활성화 상태

- 전제조건: 개별 버튼에 대한 비활성화 요청
- 시각적 상태:
  1) 대상 버튼만 회색 처리
  2) 나머지 버튼은 정상 상태 유지
  3) 테두리는 원칙적으로 사용하지 않음(§1.4)
- 동작 특성: 대상 버튼만 입력 차단, 나머지는 정상 동작

#### 3.5.3 입력 차단 중 사용자 상호작용 플로우

##### 3.5.3.1 비활성화된 영역 터치 시도

- 사용자 액션: 비활성화된 터치패드 영역 또는 버튼 터치
- 시스템 응답:
  1) 모든 포인터/키 입력 소비(consumed)하여 동작하지 않음
  2) 햅틱 피드백 없음 (무효 입력으로 분류)
  3) 필요 시 Error 카테고리 1회 진동 (상위 정책 §5.4.2 준수)
  4) 모든 애니메이션 미실행 (버튼 프레스/전환, 커서/가이드라인 등)
- 완료 상태: 입력 무시, 현재 상태 유지

##### 3.5.3.2 접근성 지원

- 접근성 동작:
  1) 컴포넌트 비활성화 시 "작업 중" 설명 제공
  2) 실시간 상태 알림 업데이트
  3) 비활성화된 영역을 포커스 대상에서 제외
  4) 접근성 탐색 시 해당 영역 건너뜀

#### 3.5.4 입력 차단 해제 플로우

##### 3.5.4.1 정상 완료에 의한 해제

- 트리거 조건: 동글로부터 작업 완료 신호 수신
- 시스템 응답:
  1) 즉시 활성화 상태로 복귀
  2) 원래의 모드/버튼 표시 즉시 재적용
  3) 테두리 규칙 재적용 (§2.2 참조)
  4) 모든 애니메이션 및 상호작용 기능 복원
- 완료 상태: 비활성화 이전 상태로 완전 복귀

##### 3.5.4.2 실패/취소에 의한 해제

- 트리거 조건: 작업 실패 또는 사용자 취소
- 시스템 응답:
  1) 즉시 비활성화 해제
  2) 표준 오류 안내 메시지 제공
  3) 원래 상태로 롤백
- 완료 상태: 오류 처리 후 정상 상태 복귀

##### 3.5.4.3 강제 해제 (페이지 일괄 비활성화 시)

- 트리거 조건: 상위 §10.4.2 규칙에 따른 강제 해제 상황
- 시스템 응답:
  1) 강제 해제 프로토콜 실행
  2) 모든 비활성화 상태 즉시 해제
- 완료 상태: 정상 상태 복귀
- 예외: 국소 비활성화에는 기본적으로 적용하지 않음

#### 3.5.5 Essential/Standard 모드에서의 터치패드 동작

> **기술 구현 세부사항**: Essential/Standard 모드의 기능 제한, 프로토콜 제한사항, 상태 전이 로직 등의 기술적 세부사항은 별도 기술 문서 `docs/Android/technical-specification-app.md` §2.4(Essential/Standard 모드 관리)를 참조하세요.

**사용자 경험 차이점:**
- Essential 모드에서는 제어 버튼 컨테이너가 숨겨지고 터치패드만 표시됩니다.
- 모드 전환은 시스템이 자동으로 처리하며, 사용자에게 적절한 상태 안내를 제공합니다.

#### 3.5.5.1 강제 재연결 처리

**목적**: Windows 서버와의 연결이 일시적으로 끊어졌을 때, 기본 HID 기능은 유지하면서 고급 기능만 일시 비활성화하여 사용자 경험을 최소화한다.

**정의**: 재연결 처리 중에는 Essential 모드로 전환되며, 기본 마우스 기능은 정상 동작하지만 서버 의존 고급 기능은 일시 Disabled 상태로 전환된다.

##### 3.5.5.1.1 재연결 진입 플로우

- 사용자 액션: (없음 - 시스템 자동 감지)
- 트리거 조건: Windows 서버 연결 끊김 감지
- 시스템 응답:
  1) 즉시 Essential 모드로 전환
  2) 고급 기능 UI 요소들 회색 처리(`#C2C2C2`, alpha 0.6)
  3) 기본 HID 기능(마우스 이동, 좌/우/휠 클릭) 정상 동작 유지
  4) 서버 의존 기능 일시 Disabled 처리:
    - 멀티 커서 모드 → 싱글 커서로 강제 전환
    - DPI 변경 버튼 비활성화
    - 고급 스크롤 모드(일반/무한) → 기본 스크롤로 전환
    - 매크로 실행 기능 비활성화
- 완료 상태: 기본 기능은 정상 동작, 고급 기능은 시각적으로 비활성화 표시

##### 3.5.5.1.2 재연결 중 사용자 상호작용

- **기본 기능 사용**: 마우스 이동, 좌/우/휠 클릭은 정상 동작
- **고급 기능 시도**: 비활성화된 기능 터치 시 입력 무시, 햅틱 피드백 없음
- **시각적 피드백**: 비활성화된 UI 요소들은 회색 톤다운으로 일시 사용 불가 상태 표시

##### 3.5.5.1.3 재연결 완료 플로우

- 사용자 액션: (없음 - 시스템 자동 감지)
- 트리거 조건: Windows 서버 재연결 완료 감지
- 시스템 응답:
  1) Standard 모드로 즉시 복원
  2) 이전 설정값 자동 복원:
     - 멀티 커서 설정 복원
     - DPI 레벨 복원
     - 스크롤 모드 설정 복원
     - 기타 고급 기능 설정 복원
  3) 모든 UI 요소 정상 색상으로 복원
  4) 고급 기능 즉시 활성화
- 완료 상태: 재연결 이전 상태로 완전 복원, 모든 기능 정상 동작

##### 3.5.5.1.4 재연결 실패 처리

- 트리거 조건: 재연결 시도 실패 또는 타임아웃
- 시스템 응답:
  1) Essential 모드 유지
  2) 재연결 시도 중 상태 표시
  3) 사용자에게 수동 재연결 안내
- 완료 상태: 기본 기능만 사용 가능한 상태 유지

#### 3.5.6 구현 고려사항

##### 3.5.6.1 계층적 비활성화 처리

- 구현 방식: 콘텐츠 위에 투명한 오버레이 계층 추가
- 처리 범위: 선택적 영역만 비활성화 표시 및 입력 차단
- 제한 사항: 전체 화면에 영향을 주는 필터 방식은 사용하지 않음

##### 3.5.6.2 영역별 독립 제어

- 구현 방식: 터치패드 영역과 제어 버튼 영역에 각각 독립적인 비활성화 처리 적용
- 목적: 부분적 비활성화 상황에 대응
- 세부 제어: TouchpadAreaWrapper, ControlButtonContainer, 개별 버튼 단위별 독립 처리

##### 3.5.6.3 Essential/Standard 모드 전환 처리

- 구현 방식: 모드별 기능 활성화/비활성화 상태 관리
- 상태 보존: Essential 모드 진입 시 멀티 커서 설정 등 고급 기능 상태 보존
- 전환 애니메이션: 모드 전환 시 부드러운 UI 전환 효과 적용 (200ms 이하)

---

## 4. 상세 알고리즘 로직

> 📋 **기술 구현 세부사항**: 터치패드 컴포넌트의 모든 상세 알고리즘과 구현 로직은 별도 기술 문서 `docs/Android/technical-specification-app.md` §2.1(터치패드 알고리즘)을 참조하세요.

---

## 5. 상수/임계값 (Standardized Constants)

> 📋 **통합 상수 관리**: 터치패드 컴포넌트의 모든 상수와 임계값은 별도 기술 문서 `docs/Android/technical-specification-app.md` §3(상수 및 임계값 정의)를 참조하세요.
